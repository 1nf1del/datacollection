import java.util.*;public class b {	static boolean[] used, used2;	public static void main(String[] args) {		Scanner in = new Scanner(System.in);		int T = in.nextInt();		for(int t=1; t<=T; t++) {			int n = in.nextInt();			int[] a = new int[n];			int[] b = new int[n];			used = new boolean[n];			used2 = new boolean[n];			int minB = 10000;			for(int i=0; i<n; i++) {				a[i] = in.nextInt();				b[i] = in.nextInt();			}			int numStars = 0;			int numRounds = 0;			int done = 0;			while(done < n) {				int best = -1;				for(int j=0; j<n; j++) {					if(!used2[j] && numStars >= b[j])						best = j;				}				if(best != -1) {					if(!used[best]) numStars++;					if(!used2[best]) numStars++;					used[best] = used2[best] = true;					done++;				}				else {					for(int j=0; j<n; j++) {						if(!used[j] && numStars >= a[j] && (best == -1 || b[best] < b[j]))							best = j;					}					if(best != -1) {						used[best] = true;						numStars++;					}					else {						numRounds = 10000;						done = n;					}				}				numRounds++;			}			System.out.printf("Case #%d: ", t);			if(numRounds >= 10000) System.out.println("Too Bad");			else System.out.println(numRounds);		}	}}